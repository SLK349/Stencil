{"file":"login-form.js","mappings":";;AAAA,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,wBAAe,YAAY;;MCMdA,WAAS;;;;;;;QAQZ,sBAAiB,GAAG,CAAC,KAAY;YACvC,IAAI,CAAC,KAAK,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;SACvD,CAAC;QAEM,yBAAoB,GAAG,CAAC,KAAY;YAC1C,IAAI,CAAC,QAAQ,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;SAC1D,CAAC;QAEM,qBAAgB,GAAG,CAAC,KAAY;YACtC,IAAI,CAAC,IAAI,GAAI,KAAK,CAAC,MAA2B,CAAC,KAAK,CAAC;SACtD,CAAA;QAEO,iBAAY,GAAG,OAAO,KAAY;YACxC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI;gBACF,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,wCAAwC,EAAE;oBACrE,MAAM,EAAE,MAAM;oBACd,OAAO,EAAE;wBACP,cAAc,EAAE,kBAAkB;qBACnC;oBACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;iBACtF,CAAC,CAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;oBAChB,MAAM,IAAI,KAAK,CAAC,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;iBACxC;gBACD,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;gBACnC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7B;YAAC,OAAO,KAAK,EAAE;gBACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;aACrC;SACF,CAAC;qBArCuB,EAAE;wBACC,EAAE;oBACN,EAAE;;IAqC1B,MAAM;QACJ,QACE,6DAAM,QAAQ,EAAE,KAAK,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAC/C,wEAAoB,EACpB,8DAAO,IAAI,EAAC,OAAO,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAI,EAE1F,2EAAuB,EACvB,8DAAO,IAAI,EAAC,UAAU,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,IAAI,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAAI,EAEnG,uEAAmB,EACnB,8DAAO,IAAI,EAAC,MAAM,EAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,GAAI,EAEvF,+DAAQ,IAAI,EAAC,QAAQ,YAAe,CAC/B,EACP;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["LoginForm"],"sources":["src/components/login-form/login-form.css?tag=login-form&encapsulation=shadow","src/components/login-form/login-form.tsx"],"sourcesContent":["","import { Component, h, State, Event, EventEmitter } from '@stencil/core';\n\n@Component({\n  tag: 'login-form',\n  styleUrl: 'login-form.css',\n  shadow: true,\n})\nexport class LoginForm {\n  @State() email: string = '';\n  @State() password: string = '';\n  @State() code: string = '';\n\n  @Event() loginSucess: EventEmitter;\n  @Event() loginError: EventEmitter;\n\n  private handleEmailChange = (event: Event) => {\n    this.email = (event.target as HTMLInputElement).value;\n  };\n\n  private handlePasswordChange = (event: Event) => {\n    this.password = (event.target as HTMLInputElement).value;\n  };\n\n  private handleCodeChange = (event: Event) => {\n    this.code = (event.target as HTMLInputElement).value;\n  }\n\n  private handleSubmit = async (event: Event) => {\n    event.preventDefault();\n    try {\n      const response = await fetch('http://localhost:3001/api/authenticate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email: this.email, password: this.password, code: this.code }),\n      });\n      if (!response.ok) {\n        throw new Error(await response.text());\n      }\n      const data = await response.json();\n      this.loginSucess.emit(data);\n    } catch (error) {\n      this.loginError.emit(error.message);\n    }\n  };\n\n  render() {\n    return (\n      <form onSubmit={event => this.handleSubmit(event)}>\n        <label>Email</label>\n        <input type=\"email\" value={this.email} onInput={event => this.handleEmailChange(event)} />\n\n        <label>Password</label>\n        <input type=\"password\" value={this.password} onInput={event => this.handlePasswordChange(event)} />\n\n        <label>Code</label>\n        <input type=\"text\" value={this.code} onInput={event => this.handleCodeChange(event)} />\n\n        <button type=\"submit\">Login</button>\n      </form>\n    );\n  }\n}\n"],"version":3}