import{r as t,d as e,h as s}from"./p-df30d222.js";import"./p-c7ee7cfe.js";import{t as i}from"./p-853b70d2.js";import{f as a}from"./p-b07dd267.js";import"./p-3647f076.js";import"./p-f5e0d65c.js";import"./p-11462911.js";import"./p-64733d3b.js";import"./p-62e7c4b4.js";import"./p-bd6f674d.js";const o=".container{display:flex;justify-content:center;align-items:center;height:100vh}form{display:flex;flex-direction:column;padding:25px;width:20%;min-width:300px;max-width:500px;border:1px solid grey;border-radius:10px}label{margin-bottom:8px}input{padding:8px;margin-bottom:16px;border:1px solid #ccc;border-radius:4px}button{padding:8px 16px;background-color:#007bff;color:white;border:none;border-radius:4px;cursor:pointer}button:hover{background-color:#0056b3}";const r=o;const d=class{constructor(s){t(this,s);this.loginSucess=e(this,"loginSucess",7);this.loginError=e(this,"loginError",7);this.handleEmailChange=t=>{this.email=t.target.value};this.handlePasswordChange=t=>{this.password=t.target.value};this.handleCodeChange=t=>{this.code=t.target.value};this.handleSubmit=async t=>{t.preventDefault();try{const t=await fetch("http://localhost:3001/api/authenticate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password,code:this.code})});if(!t.ok){throw new Error(await t.text())}const e=await t.json();this.loginSucess.emit(e);await this.presentToast("Connexion rÃ©ussie")}catch(t){this.loginError.emit(t.message);await this.presentToast("Erreur lors de la connexion")}};this.email="";this.password="";this.code=""}async presentToast(t){const e=await i.create({message:t,duration:2500,cssClass:"toast-message"});await e.present()}render(){return s("div",{key:"85676e8b4757a31b559115f3a48fd7d770241f3a",class:"container"},s("form",{key:"0c0c075d26c1659e4f1fd49d974aad74406505a1",onSubmit:t=>this.handleSubmit(t)},s("label",{key:"df10f580a68f3b40856640c498c33ab01a19f9c7"},"Email"),s("input",{key:"4ac005cce117987333373791e40a37565e26f7d2",type:"email",value:this.email,onInput:t=>this.handleEmailChange(t)}),s("label",{key:"c756a645d2833100bf9d7873ef24315ad53f036f"},"Password"),s("input",{key:"52036afc8f88977b7ea88c193988dd648a62016d",type:"password",value:this.password,onInput:t=>this.handlePasswordChange(t)}),s("label",{key:"4a90864dfb11d44aa0a9ffb1d953cee02a60b63e"},"Code"),s("input",{key:"d06268449bea481ad3e72626176cfbc877a52102",type:"text",value:this.code,onInput:t=>this.handleCodeChange(t)}),s("button",{key:"08d48ba9c6d10da79ce8bc0f24c240ab1078d996",type:"submit"},"Login")))}};d.style=r;const n=":host{display:block}";const c=n;const p=class{constructor(e){t(this,e);this.first=undefined;this.middle=undefined;this.last=undefined}getText(){return a(this.first,this.middle,this.last)}render(){return s("div",{key:"f22db8dc65658ebe2ae2b385abbd43c64987fec2"},"Hello, World! I'm ",this.getText())}};p.style=c;export{d as login_form,p as my_component};
//# sourceMappingURL=p-1ba04a9a.entry.js.map